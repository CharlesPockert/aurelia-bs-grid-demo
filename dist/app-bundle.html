<template id="app.html!view">
  <require from="./nav-bar"></require>

  <nav-bar router.bind="router"></nav-bar>

  <div class="page-host">
    <router-view></router-view>
  </div>
</template>
<template id="column-filters.html!view">
    <section class="au-animate">
        <br>
        <!-- Grid definition -->
        <grid read.call="getLocalData($event)" show-column-filters="true" selected-item.two-way="selected" selectable.bind="true" grid.ref="grid" server-paging.bind="false" server-sorting.bind="false" grid-height.bind="400">
            <grid-row>
                <grid-col heading="ID" field="id" class="col-md-1">${ $item.id }</grid-col>
                <grid-col heading="Name" field="name" class="col-md-2">${ $item.name }</grid-col>
            </grid-row>
        </grid>
    </section>
</template>
<template id="column-templates.html!view">
    <section class="au-animate">
        <br>
        <!-- Grid definition -->
        <grid read.call="getLocalData($event)" page-size="5" grid.ref="grid" server-paging.bind="false" server-sorting.bind="false" grid-height.bind="400">
            <grid-row>
                <grid-col heading="ID" field="id" class="col-md-1">This is a <i>column template</i>: <strong>${ $item.id }</strong></grid-col>
                <grid-col heading="Name" field="name" class="col-md-2">
                    <button class="btn btn-primary" click.delegate="$parent.$parent.itemClicked($item)">Click me I'm ... ${ $item.name }!</button>
                </grid-col>
            </grid-row>
        </grid>
    </section>
</template>
<template id="compose-demo.html!view">
    <section class="au-animate">
        <br>
        <!-- Grid definition -->
        <grid read.call="getLocalData($event)" grid.ref="grid">
            <grid-row>
                <grid-col heading="ID" field="id" class="col-xs-1">${ $item.id }</grid-col>
                <grid-col heading="Name" field="name" class="col-xs-11">${ $item.name }</grid-col>
            </grid-row>
        </grid>
    </section>
</template>
<template id="datasource-mutation.html!view">
    <section class="au-animate">
        <br>
        <button class="btn btn-success" click.delegate="addPerson()">Add Someone</button>
        <button class="btn btn-danger" click.delegate="removePerson()">Remove Someone</button>
        <br>
        <br>
        <!-- Grid definition -->
        <grid read.call="getLocalData($event)" grid-height.bind="200" page-size="5" grid.ref="grid" server-paging.bind="false" server-sorting.bind="false" no-rows-message="Nothing to see here!" show-jump-buttons.bind="false" show-first-last-buttons.bind="false" page-sizes.bind="[5, 10, 15]" selectable.bind="true">
            <grid-row>
                <grid-col heading="ID" field="id" class="col-md-1"><strong>${ $item.id }</strong></grid-col>
                <grid-col heading="Name" field="name" class="col-md-2">${ $item.name }</grid-col>
            </grid-row>
        </grid>

        <form class="form">
            <div class="form-group">
                <label>Name</label>
                <input value.bind="grid.selectedItem.name" class="form-control">
            </div>
        </form>
    </section>
</template>
<template id="local-data.html!view">
    <section class="au-animate">
        <br>
        <!-- Grid definition -->
        <grid grid-height.bind="400" read.call="getLocalData($event)" grid.ref="grid" server-paging.bind="false" server-sorting.bind="false">
            <grid-row>
                <grid-col heading="ID" field="id" class="col-xs-1">${ $item.id }</grid-col>
                <grid-col heading="Name" field="name" class="col-xs-11">${ $item.name }</grid-col>
            </grid-row>
        </grid>
    </section>
</template>
<template id="nav-bar.html!view">
  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle Navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">
        <i class="fa fa-home"></i>
        <span>${router.title}</span>
      </a>
    </div>

    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li repeat.for="row of router.navigation" class="${row.isActive ? 'active' : ''}">
          <a data-toggle="collapse" data-target="#bs-example-navbar-collapse-1.in" href.bind="row.href">${row.title}</a>
        </li>
      </ul>

      <ul class="nav navbar-nav navbar-right">
        <li class="loader" if.bind="router.isNavigating">
          <i class="fa fa-spinner fa-spin fa-2x"></i>
        </li>
      </ul>
    </div>
  </nav>
</template>
<template id="remote-data.html!view">
    <section class="au-animate">
        <br>
        <!-- Grid definition -->
        <grid grid-height.bind="400" read.call="getComments($event)" grid.ref="grid" server-paging.bind="true" server-sorting.bind="false" selectable="true" show-column-filters.bind="true">
            <grid-row>
                <grid-col heading="ID" field="id" class="col-md-1">${ $item.id }</grid-col>
                <grid-col heading="Name" field="name" class="col-md-2">${ $item.name }</grid-col>
                <grid-col heading="Email" show-filter="false" field="email" class="col-md-1"><a href="mailto:${ $item.email }">${ $item.email }</a></grid-col>
                <grid-col heading="Body" field="body" class="col-md-8">${ $item.body }</grid-col>
            </grid-row>
        </grid>
    </section>
</template>
<template id="row-selection.html!view">
    <section class="au-animate">
        <br>
        <p>Currently selected: ${ selected.id } - ${ selected.name }</p>
        <!-- Grid definition -->
        <grid grid-height.bind="400" read.call="getLocalData($event)" selected-item.two-way="selected" selectable.bind="true" grid.ref="grid" server-paging.bind="false" server-sorting.bind="false">
            <grid-row>
                <grid-col heading="ID" field="id" class="col-md-1">${ $item.id }</grid-col>
                <grid-col heading="Name" field="name" class="col-md-2">${ $item.name }</grid-col>
            </grid-row>
        </grid>
    </section>
</template>
<template id="github:charlespockert/aurelia-bs-grid@master/grid/grid.html!view">
    <require from="../pager/pager"></require>
    <div>
        <div class="grid-container">
            <!-- Header table -->
            <table class="table table-hover table-striped table-responsive grid-header-table">
                <thead>
                    <tr role="button" if.bind="showColumnHeaders">
                        <th repeat.for="$column of columns" class="${ $column.class !== '' ? $column.class : '' }">
                            <a if.bind="$column.nosort == false &amp;&amp; $parent.sortable" click.trigger="$parent.sortChanged($column.field)">${ $column.heading }</a>
                            <span if.bind="$column.nosort == true || !$parent.sortable">${ $column.heading }</span>
                            <span if.bind="$parent.sorting[$column.field] === 'desc'" class="glyphicon glyphicon-triangle-top text-primary"></span>
                            <span if.bind="$parent.sorting[$column.field] === 'asc'" class="glyphicon glyphicon-triangle-bottom text-primary"></span>
                        </th>
                    </tr>
                    <tr if.bind="showColumnFilters" class="grid-column-filters">
                        <th repeat.for="$column of columns" class="${ $column.class !== '' ? $column.class : '' }">
                            <div if.bind="$column.showFilter">
                                <input class="form-control" value.bind="$column.filterValue" placeholder="filter..." input.delegate="$parent.updateFilters()">
                                <span class="glyphicon glyphicon-search text-muted"></span>
                            </div>
                        </th>
                    </tr>
                </thead>
            </table>
            <!-- Content table -->
            <div class="grid-content-container">
                <table class="table table-hover table-striped table-responsive selectable" show.bind="!showNoRowsMessage || (showNoRowsMessage &amp;&amp; count > 0)">
                    <tbody>
                        <tr role="button" click.delegate="$parent.select($item)">
                        </tr>
                    </tbody>
                </table>
                <div show.bind="showNoRowsMessage &amp;&amp; count === 0" class="alert alert-warning">${ noRowsMessage }</div>
            </div>
            <div class="grid-overlay" if.bind="loading"></div>
            <div if.bind="loading" class="progress grid-progress-indicator">
                <div class="progress-bar progress-bar-striped active" role="progressbar">
                    <span>${ loadingMessage }</span>
                </div>
            </div>
            <!-- Footer div -->
            <div class="grid-footer-container" if.bind="pageable">
                <pager num-to-show.bind="pagerSize" pager.ref="pager" on-page-changed.call="pageChanged($event)" show-first-last-buttons.bind="showFirstLastButtons" show-jump-buttons.bind="showJumpButtons"></pager>
                <div class="form-inline" if.bind="showPageSizeBox">
                    <div class="form-control-group">
                        <select class="form-control" value.bind="pageSize">
                            <option value.bind="size" repeat.for="size of pageSizes">${ size === '*' ? 'All' : size }</option>
                        </select>
                        <span> items per page</span>
                    </div>
                </div>
                <span class="grid-summary" if.bind="showPagingSummary">Showing ${ firstVisibleItem } - ${ lastVisibleItem } of ${ count } items</span>
            </div>
        </div>
        <!-- No rows message -->
    </div>
</template>
<template id="github:charlespockert/aurelia-bs-grid@master/pager/pager.html!view">
    <ul class="pagination">
        <li if.bind="showFirstLastButtons" class="${ prevDisabled ? 'disabled' : '' }">
            <a href="" click.delegate="first()" aria-label="First">
                <span aria-hidden="true">
                    First
                    </span>
            </a>
        </li>
        <li if.bind="showJumpButtons" class="${ prevDisabled ? 'disabled' : '' }">
            <a href="" click.delegate="prevJump()" aria-label="Next">
                <span aria-hidden="true">
                        …
                    </span>
            </a>
        </li>
        <li class="${ prevDisabled ? 'disabled' : '' }">
            <a href="" click.delegate="prev()" aria-label="Previous">
                <span aria-hidden="true">
                        «
                    </span>
            </a>
        </li>
        <li repeat.for="curPage of pages" class="${ curPage == $parent.page ? 'active' : '' }">
            <!-- This span is an IE bug fix - if a &raquo; or many other chars are used before an interpolation for some reason that interpolation fails, following ones are fine (this is for the same property). Adding an invisible span with an interpolate in it fixes the issue  -->
            <span style="display:none">${curPage}</span>
            <a href="" click.delegate="$parent.changePage(curPage)">${curPage}</a>
        </li>
        <li class="${ nextDisabled ? 'disabled' : '' }">
            <a href="" click.delegate="next()" aria-label="Next">
                <span aria-hidden="true">
                        »
                    </span>
            </a>
        </li>
        <li if.bind="showJumpButtons" class="${ nextDisabled ? 'disabled' : '' }">
            <a href="" click.delegate="nextJump()" aria-label="Next">
                <span aria-hidden="true">
                        …
                    </span>
            </a>
        </li>
        <li if.bind="showFirstLastButtons" class="${ nextDisabled ? 'disabled' : '' }">
            <a href="" click.delegate="last()" aria-label="Last">
                <span aria-hidden="true">
                    Last
                    </span>
            </a>
        </li>
    </ul>
</template>